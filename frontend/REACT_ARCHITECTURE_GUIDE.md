# React ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ å®Œå…¨è¨­è¨ˆã‚¬ã‚¤ãƒ‰

> **ç›®çš„:** ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ1ã¤ã§ã€çŠ¶æ…‹ã¯ã©ã“ã«ã‚ã‚‹ã‹ã€é–¢æ•°ã¯ã©ã“ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ã€ã©ã®ã‚³ãƒ¼ãƒ‰ãŒã©ã“ã«ã‚ã‚‹ã‹ãŒã€ã™ãã«ã‚ã‹ã‚‹

---

## ğŸ“¦ ç›®æ¬¡

1. **[çŠ¶æ…‹ãƒãƒƒãƒ—](#çŠ¶æ…‹ãƒãƒƒãƒ—)** â† ã©ã“ã«ä½•ã®çŠ¶æ…‹ãŒã‚ã‚‹ã‹ã®å®Œå…¨ãƒãƒƒãƒ—
2. **[é–¢æ•°ãƒãƒƒãƒ—](#é–¢æ•°ãƒãƒƒãƒ—)** â† ã©ã“ã«ã©ã®é–¢æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ã®å®Œå…¨ãƒãƒƒãƒ—
3. **[ã‚³ãƒ¼ãƒ‰é…ç½®å›³](#ã‚³ãƒ¼ãƒ‰é…ç½®å›³)** â† ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã¨å„ã‚³ãƒ¼ãƒ‰ã®ä½ç½®
4. **[çŠ¶æ…‹å¤‰æ›´ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³](#çŠ¶æ…‹å¤‰æ›´ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³)** â† Aâ†’Bã¸ã®çŠ¶æ…‹åæ˜ æ–¹æ³•
5. **[ãƒ•ãƒ­ãƒ¼å›³](#ãƒ•ãƒ­ãƒ¼å›³)** â† å®Ÿè¡Œã®æµã‚Œã¨ãƒ­ã‚¸ãƒƒã‚¯

---

## çŠ¶æ…‹ãƒãƒƒãƒ—

### ğŸ¯ çŠ¶æ…‹ã®å®Œå…¨ãƒªã‚¹ãƒˆï¼ˆå…¨7å€‹ï¼‰

| # | çŠ¶æ…‹å | å‹ | å®šç¾©å ´æ‰€ | æ‰€æœ‰è€… | ã‚¹ã‚³ãƒ¼ãƒ— | èª¬æ˜ |
|---|--------|-----|---------|--------|---------|------|
| 1 | **products** | `Product[]` | `useProducts.js:5` | ProductList | ç”»é¢å…¨ä½“ | è¡¨ç¤ºä¸­ã®è£½å“ãƒªã‚¹ãƒˆ |
| 2 | **loading** | `boolean` | `useProducts.js:6` | ProductList | ç”»é¢å…¨ä½“ | ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã‹ |
| 3 | **error** | `string\|null` | `useProducts.js:7` | ProductList | ç”»é¢å…¨ä½“ | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| 4 | **pagination** | `PaginationInfo` | `useProducts.js:8` | ProductList | ç”»é¢å…¨ä½“ | ãƒšãƒ¼ã‚¸æƒ…å ± |
| 5 | **filters (useProducts)** | `FilterParams` | `useProducts.js:14` | ProductList | ç”»é¢å…¨ä½“ | APIã«é€ä¿¡æ¸ˆã¿ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ |
| 6 | **categories** | `Category[]` | `FilterPanel.jsx:5` | FilterPanel | FilterPanelã®ã¿ | ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠè‚¢ |
| 7 | **filters (FilterPanel)** | `FilterParams` | `FilterPanel.jsx:6` | FilterPanel | FilterPanelã®ã¿ | UIå…¥åŠ›ä¸­ã®å€¤ |

### é‡è¦: çŠ¶æ…‹ #5 ã¨ #7 ã®é•ã„

```
FilterPanel.filters (çŠ¶æ…‹#7)          useProducts.filters (çŠ¶æ…‹#5)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UIå…¥åŠ›ä¸­ã®å€¤      â”‚  onFilter()     â”‚ APIé€ä¿¡æ¸ˆã¿ã®å€¤   â”‚
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»Šé¸æŠä¸­ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ å®Ÿéš›ã«ä½¿ã‚ã‚Œã¦ã‚‹ â”‚
â”‚                  â”‚                 â”‚                  â”‚
â”‚ ä¾‹: category_id=1 â”‚                 â”‚ ä¾‹: category_id=1 â”‚
â”‚     min_price=100 â”‚                 â”‚     page=1        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     (å…¥åŠ›ã™ã‚‹ã»ã©å¤‰åŒ–)                    (APIå‘¼ã³å‡ºã—ã§æ›´æ–°)
```

### çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ProductList (ç”»é¢å…¨ä½“)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“¦ çŠ¶æ…‹#1: products[] â† APIå–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿                â”‚
â”‚  ğŸ“¦ çŠ¶æ…‹#2: loading    â† true/false                      â”‚
â”‚  ğŸ“¦ çŠ¶æ…‹#3: error      â† ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                 â”‚
â”‚  ğŸ“¦ çŠ¶æ…‹#4: pagination â† ãƒšãƒ¼ã‚¸æƒ…å ±                       â”‚
â”‚  ğŸ“¦ çŠ¶æ…‹#5: filters    â† APIã«é€ã£ãŸæ¡ä»¶                  â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚      FilterPanel (ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼éƒ¨å“)            â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚  ğŸ“¦ çŠ¶æ…‹#6: categories[] â† ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠè‚¢   â”‚        â”‚
â”‚  â”‚  ğŸ“¦ çŠ¶æ…‹#7: filters      â† UIå…¥åŠ›ä¸­ã®å€¤     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¾å­˜é–¢ä¿‚: çŠ¶æ…‹#7 â”€â”€onFilter()â”€â”€> çŠ¶æ…‹#5 â”€â”€fetchProducts()â”€â”€> çŠ¶æ…‹#1
```

---

## é–¢æ•°ãƒãƒƒãƒ—

### âš™ï¸ é–¢æ•°ã®å®Œå…¨ãƒªã‚¹ãƒˆï¼ˆå…¨4å€‹ï¼‰

| # | é–¢æ•°å | å®šç¾©å ´æ‰€ | å¼•æ•° | æˆ»ã‚Šå€¤ | å¤‰æ›´ã™ã‚‹çŠ¶æ…‹ | å‘¼å‡ºå…ƒ |
|---|--------|---------|------|--------|------------|--------|
| 1 | **fetchProducts** | `useProducts.js:17` | `newFilters?: FilterParams` | `Promise<void>` | çŠ¶æ…‹#1,#2,#4,#5 | useEffect, handleFilter, handlePageChange |
| 2 | **handleFilter** | `ProductList.jsx:16` | `filters: FilterParams` | `Promise<void>` | ãªã—ï¼ˆé–¢æ•°#1ã‚’å‘¼ã¶ï¼‰ | FilterPanel (onFilterçµŒç”±) |
| 3 | **handlePageChange** | `ProductList.jsx:20` | `page: number` | `Promise<void>` | ãªã—ï¼ˆé–¢æ•°#1ã‚’å‘¼ã¶ï¼‰ | Pagination (onPageChangeçµŒç”±) |
| 4 | **handleFilterChange** | `FilterPanel.jsx:21` | `key: string, value: any` | `void` | çŠ¶æ…‹#7 | select/input ã® onChange |

### é–¢æ•°ã®å½¹å‰²

```
é–¢æ•°#4: handleFilterChange
 â””â”€ FilterPanelå†…ã®çŠ¶æ…‹ã‚’æ›´æ–°
 â””â”€ onFilter() ã§è¦ªã«é€šçŸ¥
      â†“
é–¢æ•°#2: handleFilter
 â””â”€ FilterPanelã‹ã‚‰ã®é€šçŸ¥ã‚’å—ã‘å–ã‚‹
 â””â”€ é–¢æ•°#1ã‚’å‘¼ã³å‡ºã™
      â†“
é–¢æ•°#1: fetchProducts
 â””â”€ APIå‘¼ã³å‡ºã—
 â””â”€ ProductListã®çŠ¶æ…‹ã‚’æ›´æ–°ï¼ˆ#1, #2, #4, #5ï¼‰
      â†“
     Reactè‡ªå‹•å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
```

---

## ã‚³ãƒ¼ãƒ‰é…ç½®å›³

### ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã¨å…¨ã‚³ãƒ¼ãƒ‰ã®ä½ç½®

```
frontend/src/
â”‚
â”œâ”€ pages/
â”‚  â””â”€ ProductList.jsx .................. è£½å“ä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆè¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
â”‚     â”‚
â”‚     â”œâ”€ 1-8è¡Œç›®:   ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡
â”‚     â”‚
â”‚     â”œâ”€ 10è¡Œç›®:    const ProductList = () => {
â”‚     â”‚
â”‚     â”œâ”€ 11è¡Œç›®:    const [searchParams] = useSearchParams();
â”‚     â”‚             â””â”€ å½¹å‰²: URLã®?search=...ã‚’å–å¾—
â”‚     â”‚
â”‚     â”œâ”€ 12-14è¡Œç›®: const { products, loading, error, pagination, fetchProducts }
â”‚     â”‚               = useProducts({ search: searchParams.get("search") });
â”‚     â”‚             â””â”€ å½¹å‰²: çŠ¶æ…‹#1~#5ã¨é–¢æ•°#1ã‚’å—ã‘å–ã‚‹
â”‚     â”‚
â”‚     â”œâ”€ 16-18è¡Œç›®: é–¢æ•°#2: handleFilter ã®å®šç¾©
â”‚     â”‚             â””â”€ å½¹å‰²: FilterPanelã‹ã‚‰å‘¼ã°ã‚Œã‚‹ã€é–¢æ•°#1ã‚’å®Ÿè¡Œ
â”‚     â”‚
â”‚     â”œâ”€ 20-22è¡Œç›®: é–¢æ•°#3: handlePageChange ã®å®šç¾©
â”‚     â”‚             â””â”€ å½¹å‰²: Paginationã‹ã‚‰å‘¼ã°ã‚Œã‚‹ã€é–¢æ•°#1ã‚’å®Ÿè¡Œ
â”‚     â”‚
â”‚     â”œâ”€ 24-26è¡Œç›®: if (error) return ã‚¨ãƒ©ãƒ¼è¡¨ç¤º;
â”‚     â”‚
â”‚     â””â”€ 28-62è¡Œç›®: return ( JSXéƒ¨åˆ† )
â”‚        â”‚
â”‚        â”œâ”€ 35è¡Œç›®: <FilterPanel onFilter={handleFilter} />
â”‚        â”‚          â””â”€ é–¢æ•°#2ã‚’æ¸¡ã™ï¼ˆå­â†’è¦ªã¸ã®é€šçŸ¥ãƒãƒ£ãƒãƒ«ï¼‰
â”‚        â”‚
â”‚        â”œâ”€ 40-42è¡Œç›®: {loading ? <LoadingSpinner /> : ...}
â”‚        â”‚             â””â”€ çŠ¶æ…‹#2ã‚’ä½¿ç”¨
â”‚        â”‚
â”‚        â”œâ”€ 47-49è¡Œç›®: {products.map((product) => (
â”‚        â”‚               <ProductCard key={product.id} product={product} />
â”‚        â”‚             ))}
â”‚        â”‚             â””â”€ çŠ¶æ…‹#1ã‚’ä½¿ç”¨
â”‚        â”‚
â”‚        â””â”€ 51-57è¡Œç›®: {pagination.pages > 1 && (
â”‚                        <Pagination ... onPageChange={handlePageChange} />
â”‚                      )}
â”‚                      â””â”€ çŠ¶æ…‹#4ã‚’ä½¿ç”¨ã€é–¢æ•°#3ã‚’æ¸¡ã™
â”‚
â”œâ”€ hooks/
â”‚  â””â”€ useProducts.js ....................... è£½å“ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯
â”‚     â”‚
â”‚     â”œâ”€ 1-2è¡Œç›®:   ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡
â”‚     â”‚
â”‚     â”œâ”€ 4è¡Œç›®:     const useProducts = (initialFilters = {}) => {
â”‚     â”‚
â”‚     â”œâ”€ 5è¡Œç›®:     çŠ¶æ…‹#1: const [products, setProducts] = useState([]);
â”‚     â”œâ”€ 6è¡Œç›®:     çŠ¶æ…‹#2: const [loading, setLoading] = useState(true);
â”‚     â”œâ”€ 7è¡Œç›®:     çŠ¶æ…‹#3: const [error, setError] = useState(null);
â”‚     â”œâ”€ 8-12è¡Œç›®:  çŠ¶æ…‹#4: const [pagination, setPagination] = useState({...});
â”‚     â”œâ”€ 14è¡Œç›®:    çŠ¶æ…‹#5: const [filters, setFilters] = useState(initialFilters);
â”‚     â”‚
â”‚     â”œâ”€ 17-40è¡Œç›®: é–¢æ•°#1: fetchProducts ã®å®šç¾©
â”‚     â”‚  â”‚
â”‚     â”‚  â”œâ”€ 19è¡Œç›®: setLoading(true);              â† çŠ¶æ…‹#2ã®å¤‰æ›´
â”‚     â”‚  â”œâ”€ 28è¡Œç›®: const response = await productsAPI.getList(...);
â”‚     â”‚  â”œâ”€ 30è¡Œç›®: setProducts(response.data);    â† çŠ¶æ…‹#1ã®å¤‰æ›´ â˜…
â”‚     â”‚  â”œâ”€ 31è¡Œç›®: setPagination(response.pagination); â† çŠ¶æ…‹#4ã®å¤‰æ›´
â”‚     â”‚  â”œâ”€ 32è¡Œç›®: setFilters({...});             â† çŠ¶æ…‹#5ã®å¤‰æ›´
â”‚     â”‚  â””â”€ 38è¡Œç›®: setLoading(false);             â† çŠ¶æ…‹#2ã®å¤‰æ›´
â”‚     â”‚
â”‚     â”œâ”€ 42-45è¡Œç›®: useEffect(() => { fetchProducts(); }, []);
â”‚     â”‚             â””â”€ å½¹å‰²: åˆå›ã®ã¿é–¢æ•°#1ã‚’å®Ÿè¡Œï¼ˆ[]=ä¾å­˜ãªã—ï¼‰
â”‚     â”‚
â”‚     â””â”€ 48-54è¡Œç›®: return { products, loading, error, pagination, filters, fetchProducts };
â”‚                   â””â”€ å½¹å‰²: çŠ¶æ…‹#1~#5ã¨é–¢æ•°#1ã‚’ProductListã«æ¸¡ã™
â”‚
â”œâ”€ components/
â”‚  â”‚
â”‚  â”œâ”€ FilterPanel.jsx ........................ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼UI
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 1-2è¡Œç›®:   ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 4è¡Œç›®:     const FilterPanel = ({ onFilter }) => {
â”‚  â”‚  â”‚             â””â”€ onFilter = ProductListã®handleFilterï¼ˆé–¢æ•°#2ï¼‰
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 5è¡Œç›®:     çŠ¶æ…‹#6: const [categories, setCategories] = useState([]);
â”‚  â”‚  â”œâ”€ 6-11è¡Œç›®:  çŠ¶æ…‹#7: const [filters, setFilters] = useState({...});
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 14-19è¡Œç›®: useEffect(() => { ã‚«ãƒ†ã‚´ãƒªãƒ¼å–å¾— }, []);
â”‚  â”‚  â”‚             â””â”€ å½¹å‰²: åˆå›ã®ã¿çŠ¶æ…‹#6ã‚’å–å¾—
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ 21-25è¡Œç›®: é–¢æ•°#4: handleFilterChange ã®å®šç¾©
â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ 23è¡Œç›®: setFilters(newFilters);  â† çŠ¶æ…‹#7ã®å¤‰æ›´
â”‚  â”‚  â”‚  â””â”€ 24è¡Œç›®: onFilter(newFilters);    â† é–¢æ•°#2ã‚’å‘¼ã³å‡ºã™ â˜…
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ 27-110è¡Œç›®: return ( JSXéƒ¨åˆ† )
â”‚  â”‚     â”‚
â”‚  â”‚     â”œâ”€ 36-45è¡Œç›®: <select onChange={(e) => handleFilterChange(...)} />
â”‚  â”‚     â”‚              â””â”€ é–¢æ•°#4ã‚’å‘¼ã³å‡ºã™
â”‚  â”‚     â”‚
â”‚  â”‚     â”œâ”€ 53-92è¡Œç›®: <input onChange={(e) => handleFilterChange(...)} />
â”‚  â”‚     â”‚              â””â”€ é–¢æ•°#4ã‚’å‘¼ã³å‡ºã™
â”‚  â”‚     â”‚
â”‚  â”‚     â””â”€ 96-106è¡Œç›®: <button onClick={() => { setFilters({...}); onFilter({}); }}>
â”‚  â”‚                     ãƒªã‚»ãƒƒãƒˆ
â”‚  â”‚                     â””â”€ çŠ¶æ…‹#7ã‚’ãƒªã‚»ãƒƒãƒˆã€é–¢æ•°#2ã‚’ç©ºã§å‘¼ã¶
â”‚  â”‚
â”‚  â”œâ”€ ProductCard.jsx ........................ è£½å“ã‚«ãƒ¼ãƒ‰ï¼ˆçŠ¶æ…‹ãªã—ï¼‰
â”‚  â”‚  â””â”€ propsã§å—ã‘å–ã£ãŸproductã‚’è¡¨ç¤ºã™ã‚‹ã ã‘
â”‚  â”‚
â”‚  â”œâ”€ Pagination.jsx ......................... ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆçŠ¶æ…‹ãªã—ï¼‰
â”‚  â”‚  â””â”€ propsã§å—ã‘å–ã£ãŸpage/pagesã¨ onPageChange ã‚’ä½¿ç”¨
â”‚  â”‚
â”‚  â””â”€ LoadingSpinner.jsx ..................... ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºï¼ˆçŠ¶æ…‹ãªã—ï¼‰
â”‚     â””â”€ ãã‚‹ãã‚‹å›ã‚‹ã‚¹ãƒ”ãƒŠãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã ã‘
â”‚
â””â”€ services/
   â””â”€ productsAPI.js ......................... APIé€šä¿¡ï¼ˆçŠ¶æ…‹ãªã—ï¼‰
      â””â”€ httpClientã‚’ä½¿ã£ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹é–¢æ•°ç¾¤
```

### é‡è¦ãªè¡Œç•ªå·ã®è¨˜è¿°

| ã‚„ã‚ŠãŸã„ã“ã¨ | ãƒ•ã‚¡ã‚¤ãƒ«:è¡Œç•ªå· | ã‚³ãƒ¼ãƒ‰ |
|------------|---------------|--------|
| è£½å“ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ãŸã„ | `useProducts.js:28` | `const response = await productsAPI.getList(...)` |
| è£½å“ãƒªã‚¹ãƒˆã‚’æ›´æ–°ã—ãŸã„ | `useProducts.js:30` | `setProducts(response.data)` |
| ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¤‰æ›´ã‚’è¦ªã«é€šçŸ¥ã—ãŸã„ | `FilterPanel.jsx:24` | `onFilter(newFilters)` |
| ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¤‰æ›´ã‚’å—ã‘å–ã‚ŠãŸã„ | `ProductList.jsx:16` | `const handleFilter = async (filters) => {...}` |
| åˆå›ã«è‡ªå‹•å®Ÿè¡Œã—ãŸã„ | `useProducts.js:42` | `useEffect(() => {...}, [])` |

---

## çŠ¶æ…‹å¤‰æ›´ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: FilterPanelã®çŠ¶æ…‹ â†’ ProductListã®çŠ¶æ…‹

**ã‚·ãƒŠãƒªã‚ª:** ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é¸æŠ â†’ è£½å“ãƒªã‚¹ãƒˆã‚’æ›´æ–°

#### ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ** (`FilterPanel.jsx:36`)
   ```javascript
   <select onChange={(e) => handleFilterChange("category_id", e.target.value)} />
   ```
   â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ã‚¯ã‚¹ã€ã‚’é¸æŠ

2. **FilterPanelå†…ã®å‡¦ç†** (`FilterPanel.jsx:21-25`)
   ```javascript
   const handleFilterChange = (key, value) => {
     const newFilters = { ...filters, [key]: value };  // 22è¡Œç›®
     setFilters(newFilters);  // 23è¡Œç›®: çŠ¶æ…‹#7ã‚’æ›´æ–°ï¼ˆFilterPanelè‡ªèº«ï¼‰
     onFilter(newFilters);    // 24è¡Œç›®: è¦ªã«é€šçŸ¥ â˜…
   };
   ```

3. **è¦ªï¼ˆProductListï¼‰ã¸ã®é€šçŸ¥** (`ProductList.jsx:16-18`)
   ```javascript
   const handleFilter = async (filters) => {  // onFilter() = ã“ã‚ŒãŒå®Ÿè¡Œã•ã‚Œã‚‹
     await fetchProducts({ ...filters, page: 1 });  // 17è¡Œç›®: é–¢æ•°#1ã‚’å‘¼ã¶
   };
   ```

4. **è£½å“ãƒ‡ãƒ¼ã‚¿å–å¾—** (`useProducts.js:17-40`)
   ```javascript
   const fetchProducts = async (newFilters = {}) => {
     setLoading(true);  // 19è¡Œç›®: çŠ¶æ…‹#2ã‚’ true ã«
     
     const mergedFilters = {  // 21-26è¡Œç›®
       ...filters,
       ...newFilters,
       page: newFilters.page || filters.page || 1,
     };
     
     const response = await productsAPI.getList(mergedFilters);  // 28è¡Œç›®: APIå‘¼ã³å‡ºã—
     
     setProducts(response.data);  // 30è¡Œç›®: çŠ¶æ…‹#1ã‚’æ›´æ–° â˜…
     setPagination(response.pagination);  // 31è¡Œç›®: çŠ¶æ…‹#4ã‚’æ›´æ–°
     setFilters(mergedFilters);  // 32è¡Œç›®: çŠ¶æ…‹#5ã‚’æ›´æ–°
     
     setLoading(false);  // 38è¡Œç›®: çŠ¶æ…‹#2ã‚’ false ã«
   };
   ```

5. **React ã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**
   - `setProducts()` ãŒå®Ÿè¡Œã•ã‚Œã‚‹
   - React ãŒã€ŒçŠ¶æ…‹å¤‰æ›´ã‚ã‚Šã€ã¨æ¤œçŸ¥
   - ProductList ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…¨ä½“ãŒå†å®Ÿè¡Œã•ã‚Œã‚‹

6. **ProductList ã®å†å®Ÿè¡Œ** (`ProductList.jsx:12-14`)
   ```javascript
   const { products, loading, ... } = useProducts({...});
   // useProducts ãŒå†ã³å‘¼ã°ã‚Œã‚‹
   // ã§ã‚‚ useEffect(() => {...}, []) ã¯å®Ÿè¡Œã•ã‚Œãªã„ï¼ˆ[]ãªã®ã§åˆå›ã®ã¿ï¼‰
   // æœ€æ–°ã®çŠ¶æ…‹ï¼ˆproducts, loadingï¼‰ã‚’è¿”ã™
   ```

7. **JSX ã®å†æç”»** (`ProductList.jsx:47-49`)
   ```javascript
   {products.map((product) => (
     <ProductCard key={product.id} product={product} />
   ))}
   // æ–°ã—ã„ productsï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¸ˆã¿ï¼‰ã§ç”»é¢ãŒæ›´æ–°ã•ã‚Œã‚‹
   ```

#### ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œãƒãƒƒãƒ—

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
  â†“
FilterPanel.jsx:36  onChange ã‚¤ãƒ™ãƒ³ãƒˆ
  â†“
FilterPanel.jsx:21  handleFilterChange å®Ÿè¡Œ
  â†“
FilterPanel.jsx:23  setFilters() â† çŠ¶æ…‹#7æ›´æ–°
  â†“
FilterPanel.jsx:24  onFilter() â† ã“ã‚ŒãŒé‡è¦ï¼
  â†“
ProductList.jsx:16  handleFilter å®Ÿè¡Œï¼ˆonFilter ã®å®Ÿä½“ï¼‰
  â†“
ProductList.jsx:17  fetchProducts() å‘¼ã³å‡ºã—
  â†“
useProducts.js:19   setLoading(true) â† çŠ¶æ…‹#2æ›´æ–°
  â†“
useProducts.js:28   APIå‘¼ã³å‡ºã—
  â†“
useProducts.js:30   setProducts() â† çŠ¶æ…‹#1æ›´æ–° â˜…å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒˆãƒªã‚¬ãƒ¼
  â†“
Reactå†…éƒ¨å‡¦ç†      çŠ¶æ…‹å¤‰æ›´æ¤œçŸ¥ â†’ ProductListå†å®Ÿè¡Œ
  â†“
ProductList.jsx:12  useProducts() å†å‘¼ã³å‡ºã—
  â†“
useProducts.js:42   useEffect ã¯å®Ÿè¡Œã•ã‚Œãªã„ï¼ˆ[]ãªã®ã§ï¼‰
  â†“
useProducts.js:48   return { products: [æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿], ... }
  â†“
ProductList.jsx:47  products.map() ã§æ–°ã—ã„ãƒªã‚¹ãƒˆæç”»
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: åˆå›è¡¨ç¤ºï¼ˆè‡ªå‹•å®Ÿè¡Œï¼‰

**ã‚·ãƒŠãƒªã‚ª:** ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸç¬é–“ã«å…¨è£½å“ã‚’è¡¨ç¤º

1. **ãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ `/products` ã«ã‚¢ã‚¯ã‚»ã‚¹

2. **ProductList åˆå›å®Ÿè¡Œ** (`ProductList.jsx:10`)
   ```javascript
   const ProductList = () => {
     const { products, loading, ... } = useProducts({...});  // 12è¡Œç›®
     // ...
   }
   ```

3. **useProducts åˆå›å®Ÿè¡Œ** (`useProducts.js:4-54`)
   ```javascript
   const useProducts = (initialFilters = {}) => {
     const [products, setProducts] = useState([]);  // 5è¡Œç›®: åˆæœŸå€¤ []
     const [loading, setLoading] = useState(true);  // 6è¡Œç›®: åˆæœŸå€¤ true
     
     // 42-45è¡Œç›®: åˆå›ã®ã¿å®Ÿè¡Œ
     useEffect(() => {
       fetchProducts();  // 43è¡Œç›®: é–¢æ•°#1ã‚’å‘¼ã³å‡ºã—
     }, []);  // [] = ä¾å­˜é…åˆ—ãŒç©º = åˆå›ã®ã¿å®Ÿè¡Œ
     
     return { products, loading, ... };  // 48è¡Œç›®: åˆæœŸå€¤ã‚’è¿”ã™
   };
   ```

4. **åˆå›ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°** (`ProductList.jsx:40-42`)
   ```javascript
   {loading ? (  // loading = true ãªã®ã§
     <LoadingSpinner />  // ã“ã‚ŒãŒè¡¨ç¤ºã•ã‚Œã‚‹
   ) : ...}
   ```

5. **fetchProducts å®Ÿè¡Œ** (`useProducts.js:17-40`)
   - APIå‘¼ã³å‡ºã— â†’ ãƒ‡ãƒ¼ã‚¿å–å¾— â†’ `setProducts()` å®Ÿè¡Œ

6. **å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**
   - `setProducts()` ã§çŠ¶æ…‹#1ãŒå¤‰æ›´
   - React ãŒ ProductList ã‚’å†å®Ÿè¡Œ
   - `loading = false`, `products = [ãƒ‡ãƒ¼ã‚¿]` ã§å†åº¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

7. **è£½å“è¡¨ç¤º** (`ProductList.jsx:47-49`)
   ```javascript
   {products.map((product) => (  // products = [ãƒ‡ãƒ¼ã‚¿] ãªã®ã§
     <ProductCard key={product.id} product={product} />  // ã“ã‚ŒãŒè¡¨ç¤ºã•ã‚Œã‚‹
   ))}
   ```

---

## ãƒ•ãƒ­ãƒ¼å›³

### å…¨ä½“ãƒ•ãƒ­ãƒ¼ï¼ˆãƒã‚¹ã‚¿ãƒ¼ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ProductList (è¦ª)                          â”‚
â”‚                                                                â”‚
â”‚  çŠ¶æ…‹: products[], loading, error, pagination, filters         â”‚
â”‚  é–¢æ•°: handleFilter, handlePageChange                          â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  FilterPanel (å­)   â”‚       â”‚  ProductCard (å­Ã—N)   â”‚    â”‚
â”‚  â”‚                     â”‚       â”‚                       â”‚    â”‚
â”‚  â”‚  çŠ¶æ…‹: categories[], â”‚       â”‚  çŠ¶æ…‹: ãªã—            â”‚    â”‚
â”‚  â”‚        filters      â”‚       â”‚  props: product       â”‚    â”‚
â”‚  â”‚  é–¢æ•°: handle       â”‚       â”‚                       â”‚    â”‚
â”‚  â”‚        FilterChange â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚           â”‚                                                   â”‚
â”‚           â”‚ onFilter()                                        â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ handleFilter()                      â”‚
â”‚                               â”‚                               â”‚
â”‚                               â†“                               â”‚
â”‚                          fetchProducts() â† useProductså†…      â”‚
â”‚                               â”‚                               â”‚
â”‚                               â†“                               â”‚
â”‚                          APIå‘¼ã³å‡ºã—                           â”‚
â”‚                               â”‚                               â”‚
â”‚                               â†“                               â”‚
â”‚                          setProducts() â† çŠ¶æ…‹#1æ›´æ–°           â”‚
â”‚                               â”‚                               â”‚
â”‚                               â†“                               â”‚
â”‚                          Reactå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### useEffect ã®å‹•ä½œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useEffect(() => { fetchProducts(); }, []);             â”‚
â”‚                                        â””â”€ ä¾å­˜é…åˆ—      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€ åˆå›ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°: âœ… å®Ÿè¡Œã•ã‚Œã‚‹
        â”‚
        â”œâ”€ å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆçŠ¶æ…‹å¤‰æ›´å¾Œï¼‰: âŒ å®Ÿè¡Œã•ã‚Œãªã„
        â”‚
        â””â”€ ç†ç”±: [] = ä¾å­˜ãªã— = ã€Œå¤‰åŒ–ã‚’ç›£è¦–ã™ã‚‹ã‚‚ã®ãŒãªã„ã€
                 = åˆå›ä»¥é™ã¯å®Ÿè¡Œã™ã‚‹ç†ç”±ãŒãªã„
```

### å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

```
1. ã©ã“ã‹ã§ setState() ãŒå®Ÿè¡Œã•ã‚Œã‚‹
   ä¾‹: setProducts([æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿])
      â†“
2. React ãŒãã‚Œã‚’æ¤œçŸ¥
   ã€ŒãŠã£ã€çŠ¶æ…‹å¤‰ã‚ã£ãŸï¼ã€
      â†“
3. ãã®çŠ¶æ…‹ã‚’ä½¿ã£ã¦ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¢ã™
   ã€Œã“ã®çŠ¶æ…‹ã¯ ProductList ãŒä½¿ã£ã¦ã‚‹ãªã€
      â†“
4. ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å†å®Ÿè¡Œ
   const ProductList = () => { ... } â† ã“ã‚Œå…¨ä½“
      â†“
5. useProducts() ã‚‚å†å®Ÿè¡Œã•ã‚Œã‚‹
      â†“
6. ã§ã‚‚ useEffect(() => {...}, []) ã¯å®Ÿè¡Œã•ã‚Œãªã„
   ãªãœãªã‚‰ [] = åˆå›ã®ã¿å®Ÿè¡Œã®æ„å‘³ã ã‹ã‚‰
      â†“
7. return ã§æœ€æ–°ã®çŠ¶æ…‹ã‚’è¿”ã™
   return { products: [æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿], loading: false, ... }
      â†“
8. JSX ãŒæ–°ã—ã„çŠ¶æ…‹ã§å†æç”»ã•ã‚Œã‚‹
   {products.map(...)} â† æ–°ã—ã„productsã§ï¼
```

---

## ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### ã€Œã€‡ã€‡ã—ãŸã„ã€â†’ã€Œã©ã†ã™ã‚Œã°ã„ã„ã‹ã€æ—©è¦‹è¡¨

| ã‚„ã‚ŠãŸã„ã“ã¨ | ç¢ºèªã™ã‚‹ã‚³ãƒ¼ãƒ‰ |
|------------|--------------|
| **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¤‰æ›´ã§è£½å“ã‚’å†å–å¾—** | `ProductList.jsx:16` â†’ `useProducts.js:17` |
| **ãƒšãƒ¼ã‚¸ç•ªå·å¤‰æ›´ã§è£½å“ã‚’å†å–å¾—** | `ProductList.jsx:20` â†’ `useProducts.js:17` |
| **è£½å“ãƒ‡ãƒ¼ã‚¿ãŒã©ã“ã«ã‚ã‚‹ã‹çŸ¥ã‚ŠãŸã„** | `useProducts.js:5` ã® `useState([])` |
| **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã‹ã©ã†ã‹åˆ¤å®šã—ãŸã„** | `useProducts.js:6` ã® `useState(true)` |
| **FilterPanel ã®UIå€¤ã‚’è¦ªã«é€šçŸ¥** | `FilterPanel.jsx:24` ã® `onFilter(newFilters)` |
| **åˆå›è‡ªå‹•ã§ãƒ‡ãƒ¼ã‚¿å–å¾—** | `useProducts.js:42-45` ã® `useEffect(() => {...}, [])` |
| **API ã‚’å‘¼ã³å‡ºã—ãŸã„** | `useProducts.js:28` ã® `productsAPI.getList(...)` |
| **çŠ¶æ…‹ã‚’æ›´æ–°ã—ã¦å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°** | `useProducts.js:30` ã® `setProducts(...)` |

### ãƒ‡ãƒãƒƒã‚°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### å•é¡Œ: ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¤‰æ›´ã—ã¦ã‚‚è£½å“ãŒæ›´æ–°ã•ã‚Œãªã„

**ãƒã‚§ãƒƒã‚¯é †:**
1. `FilterPanel.jsx:24` ã§ `onFilter(newFilters)` ã‚’å‘¼ã‚“ã§ã„ã‚‹ã‹ï¼Ÿ
2. `ProductList.jsx:35` ã§ `<FilterPanel onFilter={handleFilter} />` ã¨æ¸¡ã—ã¦ã„ã‚‹ã‹ï¼Ÿ
3. `ProductList.jsx:17` ã§ `fetchProducts()` ã‚’å‘¼ã‚“ã§ã„ã‚‹ã‹ï¼Ÿ
4. `useProducts.js:30` ã§ `setProducts()` ã‚’å‘¼ã‚“ã§ã„ã‚‹ã‹ï¼Ÿ
5. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã„ã‹ï¼Ÿ

#### å•é¡Œ: åˆå›ã«è£½å“ãŒè¡¨ç¤ºã•ã‚Œãªã„

**ãƒã‚§ãƒƒã‚¯é †:**
1. `useProducts.js:42` ã® `useEffect` ã®ä¾å­˜é…åˆ—ãŒ `[]` ã«ãªã£ã¦ã„ã‚‹ã‹ï¼Ÿ
2. `useProducts.js:43` ã§ `fetchProducts()` ã‚’å‘¼ã‚“ã§ã„ã‚‹ã‹ï¼Ÿ
3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ï¼Ÿï¼ˆ`http://localhost:3000/api/products` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã‚‹ï¼‰
4. ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã§ API ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæˆåŠŸã—ã¦ã„ã‚‹ã‹ï¼Ÿ

#### å•é¡Œ: çŠ¶æ…‹æ›´æ–°ã—ã¦ã‚‚ç”»é¢ãŒå¤‰ã‚ã‚‰ãªã„

**ãƒã‚§ãƒƒã‚¯é †:**
1. `setState` é–¢æ•°ã‚’ä½¿ã£ã¦ã„ã‚‹ã‹ï¼Ÿï¼ˆ`products = ...` ã¯NGã€`setProducts(...)` ãŒOKï¼‰
2. `useProducts.js:48` ã® `return {...}` ã«è©²å½“ã®çŠ¶æ…‹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
3. `ProductList.jsx:12` ã§ `useProducts()` ã‚’å‘¼ã‚“ã§ã„ã‚‹ã‹ï¼Ÿ
4. React DevTools ã§çŠ¶æ…‹ãŒå®Ÿéš›ã«æ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

---

## è£œè¶³: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¨ã¯ï¼Ÿ

### ãªãœ useProducts ã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ã™ã‚‹ã®ã‹ï¼Ÿ

**âŒ æ‚ªã„ä¾‹: ProductList.jsx ã«å…¨éƒ¨æ›¸ã**

```javascript
const ProductList = () => {
  const [products, setProducts] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [pagination, setPagination] = useState({...});
  const [filters, setFilters] = useState({});
  
  const fetchProducts = async (newFilters) => {
    setLoading(true);
    try {
      const response = await productsAPI.getList(...);
      setProducts(response.data);
      setPagination(response.pagination);
      setFilters({...});
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };
  
  useEffect(() => { fetchProducts(); }, []);
  
  const handleFilter = async (filters) => { ... };
  const handlePageChange = async (page) => { ... };
  
  return ( /* JSX 50è¡Œ */ );
};

// çµæœ: 150è¡Œè¶…ãˆã‚‹ã€èª­ã¿ã«ãã„ã€å†åˆ©ç”¨ä¸å¯
```

**âœ… è‰¯ã„ä¾‹: useProducts.js ã«åˆ‡ã‚Šå‡ºã™**

```javascript
// useProducts.js (60è¡Œ)
const useProducts = (initialFilters) => {
  const [products, setProducts] = useState([]);
  const [loading, setLoading] = useState(true);
  // ... ãƒ­ã‚¸ãƒƒã‚¯
  return { products, loading, fetchProducts };
};

// ProductList.jsx (50è¡Œ)
const ProductList = () => {
  const { products, loading, fetchProducts } = useProducts({...});
  const handleFilter = async (filters) => { ... };
  return ( /* JSX */ );
};

// çµæœ: å„ãƒ•ã‚¡ã‚¤ãƒ«çŸ­ã„ã€ç†è§£ã—ã‚„ã™ã„ã€useProductsã¯ä»–ã§ã‚‚ä½¿ãˆã‚‹
```

### useProducts å†…ã®çŠ¶æ…‹ã¯èª°ã®ã‚‚ã®ï¼Ÿ

**é‡è¦:** useProducts å†…ã§å®šç¾©ã•ã‚ŒãŸçŠ¶æ…‹ã¯ã€**å‘¼ã³å‡ºã—å…ƒï¼ˆProductListï¼‰ã«å±ã™ã‚‹**

```javascript
// ProductList.jsx
const ProductList = () => {
  const { products } = useProducts();  // â† ã“ã“ã§ useProducts ã‚’å‘¼ã¶
  // ...
};

// useProducts.js
const useProducts = () => {
  const [products, setProducts] = useState([]);  // â† ã“ã® useState ã¯ ProductList ã«å±ã™ã‚‹
  // useProducts ã¯ã€Œé–¢æ•°ã€ã§ã€å‘¼ã°ã‚Œã‚‹ãŸã³ã«æ–°ã—ãå®Ÿè¡Œã•ã‚Œã‚‹
  // ã§ã‚‚ useState ã®ã€Œå€¤ã€ã¯ React ãŒ ProductList ç”¨ã«ä¿å­˜ã—ã¦ã„ã‚‹
};
```

Reactã®å†…éƒ¨ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼š
```javascript
Reactå†…éƒ¨ã®_productListã®çŠ¶æ…‹ = {
  products: [],
  loading: true,
  error: null,
  // ...
};

// setProducts() ãŒå‘¼ã°ã‚Œã‚‹ã¨
Reactå†…éƒ¨ã®_productListã®çŠ¶æ…‹.products = æ–°ã—ã„å€¤;
React.å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°(ProductList);
```

---

## ã¾ã¨ã‚

### ã“ã®è¨­è¨ˆã®3ã¤ã®åŸå‰‡

1. **çŠ¶æ…‹ã®æ‰€æœ‰æ¨©ã‚’æ˜ç¢ºã«ã™ã‚‹**
   - ç”»é¢å…¨ä½“ã§ä½¿ã†çŠ¶æ…‹ â†’ ProductListï¼ˆuseProductsçµŒç”±ï¼‰
   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã ã‘ã§ä½¿ã†çŠ¶æ…‹ â†’ ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…

2. **é–¢æ•°ã®å®šç¾©å ´æ‰€ã‚’é©åˆ‡ã«ã™ã‚‹**
   - çŠ¶æ…‹ã‚’å¤‰æ›´ã™ã‚‹é–¢æ•° â†’ çŠ¶æ…‹ã‚’æŒã¤å ´æ‰€ã®è¿‘ãï¼ˆuseProductså†…ï¼‰
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ© â†’ ãã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ‰±ã†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆProductList, FilterPanelï¼‰

3. **è¦ªå­é€šä¿¡ã¯ props ã¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯**
   - è¦ªâ†’å­: props ã§å€¤ã‚’æ¸¡ã™ï¼ˆ`<FilterPanel onFilter={handleFilter} />`ï¼‰
   - å­â†’è¦ª: ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å‘¼ã¶ï¼ˆ`onFilter(newFilters)`ï¼‰

### è¦šãˆã‚‹ã¹ã3ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | å®Ÿè£…æ–¹æ³• | ä¾‹ |
|---------|---------|-----|
| **åˆå›ã®ã¿å®Ÿè¡Œ** | `useEffect(() => {...}, [])` | `useProducts.js:42` |
| **çŠ¶æ…‹æ›´æ–°** | `setState(æ–°ã—ã„å€¤)` | `useProducts.js:30` |
| **è¦ªã¸ã®é€šçŸ¥** | `props.onXxx(ãƒ‡ãƒ¼ã‚¿)` | `FilterPanel.jsx:24` |

---

**æœ€çµ‚æ›´æ–°:** 2026å¹´2æœˆ18æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 3.0 (å®Œå…¨ç‰ˆ)  
**å¯¾è±¡:** Reactè£½å“ä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆProductListï¼‰ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
